# 网络是怎样连接的

![Untitled](%E7%BD%91%E7%BB%9C%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%206f3de266257b45d7b42548e1570f9dab/Untitled.png)

![Untitled](%E7%BD%91%E7%BB%9C%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%206f3de266257b45d7b42548e1570f9dab/Untitled%201.png)

## Web浏览器

浏览器中输入$URL$开始，浏览器委托操作系统中的网络控制软件（搬运数据的机制）将消息发送给服务器。

[浏览器生成消息](%E7%BD%91%E7%BB%9C%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%206f3de266257b45d7b42548e1570f9dab/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%94%9F%E6%88%90%E6%B6%88%E6%81%AF%204d63cde8eee84afe95709198402e00ff.md)

## 协议栈，网卡

搬运数据的机制。

- 协议栈（网络控制软件）
    
    将浏览器接收到的消息打包，然后加上目的地址等信息。还可以在当发生通信错误时重新发送包，或者调节数据发送速率等。
    

[探索协议栈](%E7%BD%91%E7%BB%9C%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%206f3de266257b45d7b42548e1570f9dab/%E6%8E%A2%E7%B4%A2%E5%8D%8F%E8%AE%AE%E6%A0%88%202fd346e04d914ece857bb4a99e70bc46.md)

- 网卡：协议栈将包交给网卡（负责以太网或无线网络通信的硬件）网卡将包转换为电信号将数据发送出去。

[探索网卡](%E7%BD%91%E7%BB%9C%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%206f3de266257b45d7b42548e1570f9dab/%E6%8E%A2%E7%B4%A2%E7%BD%91%E5%8D%A1%20c033791f2b3e4509b8198339ddb8fafb.md)

### 集线器，交换机，路由器

客户端计算机可以通过家庭或公司的局域网接入互联网，也可以单独直接接入互联网。假设客户端计算机是连接到家庭或公司的局域网中，然后通过$ADSL$和光纤到户$FTTH$等宽带线路接入互联网。

网卡发送的包会经过交换机等设备，到达用来接入互联网的路由器，路由器的后面就是互联网，网络运营商会负责将包送到目的地。

## 接入网，网络运营商

- 接入网：互联网的入口线路。接入网连接到签约的网络运营商，并接入被称为接入点的设备。
- 接入点：一台专为运营商设计的路由器。接入点的后面是骨干互联网。
- 骨干网中存在很多运营商和大量路由器，这些路由器相互连接，组成巨大的网。
- 路由器的规模存在差异。

## 防火墙，缓存服务器

通过骨干网后，网络包最终回到达$Web$服务器所在的局域网中，接着它会遇到防火墙。

- 防火墙：防火墙会对进入的包进行检查。
- 缓存服务器：网页数据中一部分可以被重复利用的可以缓存到缓存服务器中。

## $Web$服务器

当网络到达$Web$服务器后，数据会被解包并还原为原始的请求消息，然后交给$Web$服务器程序。这个操作由操作系统的协议栈（网络控制软件）来完成。

- $Web$服务器程序分析请求消息的含义，并按照其中的指示将消息装入响应消息中，然后发回给客户端。